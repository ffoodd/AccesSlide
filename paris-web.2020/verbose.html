<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Des propriétés personnalisées très, très, très personnalisées</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Des propriétés personnalisées très, très, très personnalisées — conférence donnée lors de Paris Web 2020 par Gaël Poupard">
  <meta name="author" content="Gaël Poupard">
  <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
  <link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="../fonts/bello-pro.woff2"/>
  <link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="../fonts/museo-slab-300.woff2"/>
  <link rel="stylesheet" href="../accesslide/css/style.css" type="text/css" media="screen">
  <link rel="stylesheet" id="currentCSS" href="../accesslide/css/ffoodd.css?2" type="text/css" media="screen">
  <link rel="stylesheet" href="../accesslide/css/charts.css?34" type="text/css" media="screen">
  <link rel="stylesheet" href="../accesslide/css/print.css" type="text/css" media="print">
  <script src="../accesslide/js/AccesSlide.min.js"></script>
  <script src="../accesslide/lang/lang_fr.js"></script>
</head>
<body>

  <div id="screen" class="modeplan" data-effect="ffoodd">

    <div id="volet"></div>

    <header id="banner" role="banner" class="main-header clearfix">
      <a href="https://www.ffoodd.fr">ffoodd</a>
      <h1 class="main-title">
        Des propriétés personnalisées très, très, très personnalisées
      </h1>
    </header>

    <div id="nav" class="tool-bar footer-nav clearfix">
      <div id="wrappernav">
        <ul class="related">
          <li>
            <a href="https://www.ffoodd.fr">
              <img src="../accesslide/img/ffoodd.svg?2" role="img" alt="Blog de Gaël Poupard" height="32" width="32" />
            </a>
          </li>
          <li>
            <a href="https://twitter.com/ffoodd_fr">
              <img src="../accesslide/img/twitter.svg?2" role="img" alt="@ffoodd_fr sur Twitter" height="32" width="32" />
            </a>
          </li>
          <li>
            <a href="https://github.com/ffoodd/" hreflang="en">
              <img src="../accesslide/img/github.svg?2" role="img" alt="@ffoodd sur Github" height="32" width="32" />
            </a>
          </li>
        </ul>
      </div>
    </div>

    <nav role="navigation" id="sommaire" class="tool-block tool-block-summary" tabindex="-1"></nav>

    <div id="wrapper">

      <main role="main" id="main">

        <section class="slide couv">
          <h2>
            Des propriétés personnalisées très, très, très personnalisées
          </h2>
          <p>
            Retrouvez les slides en ligne sur<br>
            <span aria-hidden="true">→&nbsp;</span><a href="https://www.ffoodd.fr/paris-web.2020/">ffoodd.fr/paris-web.2020</a>.
          </p>
          <footer class="table">
            <p class="col-50">Raconté par <a href="https://www.ffoodd.fr">Gaël Poupard</a></p>
            <p class="col-50 col-t-right">
              <a href="https://www.orange-business.com/fr">
                <img src="../accesslide/img/OBS.jpg" width="175" height="64" alt="Orange Business Services" class="obs"/>
              </a>
            </p>
          </footer>
        </section>

        <section class="slide">
          <h2>Les concepts-clés<span aria-hidden="true">&nbsp;&#128273;</span></h2>
          <p class="h3">À digérer avant de jouer avec les propriétés personnalisées&nbsp;:</p>
          <ul>
            <li>La cascade&nbsp;;</li>
            <li>L’héritage&nbsp;;</li>
            <li>Les stratégies de repli&nbsp;;</li>
            <li>Les particularités.</li>
          </ul>
          <p>Venez, on va bien rigoler&nbsp;!</p>
          <p class="small">Si, si, promis…</p>
        </section>

        <section class="slide full">
          <h2>Cascade<span aria-hidden="true">&nbsp;&#127752;</span></h2>
          <h3>Hop, galipette<span aria-hidden="true">&nbsp;*</span>&nbsp;!</h3>
          <p>La <dfn id="def-cascade">cascade</dfn> est l’algorithme décidant quel style est <strong>finalement</strong> appliqué.</p>
          <p>
            <a href="https://wattenberger.com/blog/css-cascade" hreflang="en"><cite>Amelia Wattenberger</cite> a rédigé un billet de blog interactif expliquant à merveille la cascade</a>,
            mais vous pouvez aussi lire <a href="https://www.w3.org/TR/css-cascade-3/" hreflang="en">la spécification du module <q lang="en">Cascading and inheritance</q> du
            <abbr lang="en" title="World Wide Web Consortium" aria-label="World Wide Web Consortium">W3C</abbr></a>, si vous préférez&nbsp;!
          </p>
          <p>Les propriétés personnalisées respectent la cascade, au même titre que les autres propriétés.</p>
          <p class="small mt-auto"><span aria-hidden="true">*&nbsp;</span>Galipette réalisée par un professionnel, ne tentez pas ça chez vous.</p>
        </section>

        <section class="slide">
          <h2>L’héritage <small>(Mitsouko)</small><span aria-hidden="true">&nbsp;&#128131;</span></h2>
          <h3><q>C’est comme ça-aaaaaa</q></h3>
          <p>
            <strong>L’héritage intervient quand la cascade n’aboutit à aucune valeur</strong>
            —&nbsp;une sombre histoire de succession, donc…
          </p>
          <p>
            Mais <strong>toutes les propriétés ne sont pas héritées</strong>&nbsp;! Ça concerne presque exclusivement les propriétés liées au texte
            —&nbsp;imaginez un peu le chantier, sinon…
          </p>
          <p>
            <span aria-hidden="true">&#128712;&nbsp;</span>
            Cependant <strong>les propriétés personnalisées sont héritées</strong>, au cas où elles servent dans des propriétés liées au texte. Intéressant, non&nbsp;?
          </p>
        </section>

        <section class="slide">
          <h2>Valeur de repli <span aria-hidden="true">&nbsp;&#128281;</span></h2>
          <p>Quand une valeur n’est pas supportée&nbsp;:</p>
          <ol>
            <li>elle est ignorée,</li>
            <li>la cascade choit,</li>
            <li>et l’héritage est transmis.</li>
          </ol>
          <p>
            Mais ceci se produit lors du <em lang="en">parsing</em>.
            Le navigateur ne sait pas encore s’il va savoir appliquer votre variable&nbsp;!
          </p>
          <p class="small">
            La valeur de repli est inutile si votre propriété personnalisée est définie pour <code>:root</code>,
            sauf si vous avez eu la bonne idée de la «&nbsp;vidanger&nbsp;» quelque part dans votre feuille de styles…
          </p>
        </section>

        <section class="slide">
          <h2>Les particularités</h2>
          <h3>Une sorte de définition</h3>
          <p>Les propriétés personnalisées&nbsp;:</p>
          <ul>
            <li>ne servent à rien si elles ne sont pas <strong>utilisées</strong> dans une valeur&nbsp;!</li>
            <li>peuvent avoir <strong>plusieurs valeurs au même moment</strong>, en fonction de l’élément qui s’en sert —&nbsp;cascade, héritage, repli… suivez, un peu&nbsp;!</li>
            <li>sont <strong>déclaratives</strong>, comme l’ensemble de CSS&nbsp;: si vous changez une valeur, elle changera pour tout l’arbre du document concerné —&nbsp;indépendamment de la position de la définition de la valeur dans vos CSS&nbsp;;</li>
            <li>ne sont <strong>pas affectées</strong> par la propriéte <code>all</code>.</li>
          </ul>
          <p class="small">Rien à voir avec <a hreflang="en" href="https://sass-lang.com/documentation/variables">les variables Sass</a>, donc<span aria-hidden="true">&nbsp;&#128520;</span>&nbsp;!</p>
        </section>

        <section class="slide">
          <h2>Les capacités</h2>
          <h3>Qu’est-ce qu’on va bien pouvoir faire de ça<span aria-hidden="true">&nbsp;&#128519;</span>&nbsp;?</h3>
        </section>

        <section class="slide">
          <h2>Une palette de couleurs<span aria-hidden="true">&nbsp;&#127912;</span></h2>
          <p>
            <a hreflang="en" href="https://www.sarasoueidan.com/blog/hex-rgb-to-hsl/"><cite>Sara Soueidan</cite>
            explique l’utilisation des propriétés personnalisées combinées à <code>hsl()</code></a>
            pour gérer une palette de couleurs —&nbsp;et <a hreflang="en" href="https://una.im/css-color-theming/"><cite>Une Kravets</cite>
            pousse la réflexion encore plus loin</a>.
          </p>
          <p>J’ai implémenté une telle palette dans <a hreflang="en" href="https://github.com/ffoodd/sseeeedd/blob/243cacb8b226974206b64d7a1c527016499b34c6/src/scss/abstracts/_variables.scss#L39">sseeeedd (sur GitHub)</a>&nbsp;:</p>
          <ul>
            <li>en prenant comme couleur de départ <a hreflang="en" href="https://meyerweb.com/eric/thoughts/2014/06/19/rebeccapurple/"><code>rebbecapurple</code></a>,</li>
            <li>puis <a hreflang="en" href="https://stackoverflow.com/questions/14095849/calculating-the-analog-color-with-python">son analogue</a>,</li>
            <li><a hreflang="en" href="https://css-tricks.com/switch-font-color-for-different-backgrounds-with-css/">en gérant les contrastes avec <code>calc()</code></a>,</li>
            <li>puis les variantes claires et sombres, déterminées grâce <a href="https://fr.wikipedia.org/wiki/Nombre_d%27or">au nombre d’or</a>.</li>
          </ul>
          <p>
            Vous pouvez ainsi changer la palette de couleurs en modifiant la seule propriété personnalisée <code>--hue</code>
            ou basculer vers une palette complémentaire en modifiant <code>--rotation</code> pour ajouter <var>180</var> au lieu de <var>30</var>.
          </p>
          <p class="small">
            Vous pouvez aussi augmenter les contrastes et la luminosité en fonction du <em lang="en">viewport</em> ou gérer
            <code>prefers-color-scheme</code> en quelques lignes&nbsp;!
          </p>
        </section>

        <section class="slide">
          <h2>De la configuration globale<span aria-hidden="true">&nbsp;&#9881;</span></h2>
          <h3><q>Je s’appelle <code>:root</code></q></h3>
          <p>
            Vous pouvez utiliser les propriétés personnalisées comme une <abbr lang="en" title="Application Programming Interface" aria-label="Application Programming Interface">API</abbr>
            de surface avec vos styles&nbsp;:
          </p>
          <ul>
            <li>
              <a hreflang="en" href="https://markdotto.com/2020/05/20/global-css-options-custom-properties/"><cite>Mark Otto</cite> propose des options globales</a>
              pour (dé)sactiver des éléments de styles&nbsp;;
            </li>
            <li>
              <a hreflang="en" href="https://hugogiraudel.com/2018/03/19/implementing-a-reduced-motion-mode/"><cite>Hugo Giraudel</cite> suggère de réduire les animations globalement</a>
              en se basant sur une unique propriété personnalisée&nbsp;;
            </li>
            <li>
              <a hreflang="en" href="https://www.sarasoueidan.com/blog/style-settings-with-css-variables/"><cite>Sara Soueidan</cite> théorise même une organisation complète</a> autour
              des propriétés personnalisées.
            </li>
          </ul>
        </section>

        <section  class="slide">
          <h2>Une cascade personnalisée</h2>
          <h3>Hop, sans les mains<span aria-hidden="true">&nbsp;&#129335;</span></h3>
          <p>
            <a hreflang="en" href="https://codepen.io/mirisuzanne/full/vYNgodb"><cite>Miriam Suzanne</cite>
            a conceptualisé les cascades personnalisées</a>, une sucession de propriétés personnalisées
            dans les valeurs de replis de propriéts personnalisées.
          </p>
          <ul>
            <li>Fini les <strong>interférences</strong> entre pseudo-classes (ou presque),</li>
            <li>Facile de personnaliser <strong>en fonction du contexte</strong>,</li>
            <li>Permet de <strong>mitiger l’importance</strong> des styles en ligne&nbsp;!</li>
          </ul>
        </section>

        <section class="slide">
          <h2>Convertir un entier en chaîne<span aria-hidden="true">&nbsp;&#128279;</span></h2>
          <h3>Ce n’est <em>que</em> du CSS</h3>
          <p>
            <a hreflang="en" href="https://codepen.io/cassie-codes/pen/22ea69e0f681d45f2f4c2ca5e6acf4ab"><cite>Cassie Evans</cite>
            utilise <strong>les compteurs CSS</strong> pour afficher un entier dans la propiété <code>content</code></a>,
            ce qui n’est pas possible autrement.
          </p>
        </section>

        <section class="slide">
          <h2>De la pseudo-logique<span aria-hidden="true">&nbsp;&#129300;</span></h2>
          <h3>Ce n’est <em>toujours</em> que du CSS</h3>
          <p>
            <a hreflang="en" href="https://www.kizu.ru/conditions-for-css-variables/"><cite>Roman Komarov</cite>
            propose d’utiliser des propriétés personnalisées pseudo-booléennes</a> pour qu’une propriété bascule
            d’une valeur calculée à une autre.
          </p>
          <p>
            <a hreflang="en" href="https://css-tricks.com/dry-switching-with-css-variables-the-difference-of-one-declaration/"><cite>Ana Tudor</cite>
            décortique des exemples concrets de ce qu’elle baptise <em lang="en"><abbr title="Don’t repeat Yourself" aria-label="Don’t repeat Yourself">DRY</abbr> switching</em></a>.
          </p>
          <p class="small">
            On peut par exemple <a href="https://ffoodd.github.io/chaarts/camembert.html">basculer d’un point à un autre dans un tracé <code>clip-path</code></a>.
          </p>
        </section>

        <section class="slide">
          <h2>Du <em lang="en">responsive</em> sans <code>@media</code></h2>
          <h3>Alias, ton univers impitoya-ableuh<span aria-hidden="true">&nbsp;&#128373;</span></h3>
          <p>
            <a hreflang="en" href="https://propjockey.github.io/css-media-vars/"><cite>James Atherton</cite>
            utilise une astuce qu’il nomme <em lang="en">space toggler</em> pour se passer des <em lang="en">media queries</em></a>
            dans son CSS —&nbsp;ou presque.
          </p>
          <p class="small">
            Si vous cherchez à vous passer de <code>@media</code>, je vous conseille plutôt
            <a href="https://emails.hteumeuleu.fr/2016/02/fab-four-emails-responsive-sans-media-queries/">la technique des Fab Four par Rémi Parmentier</a>,
            les modules <em lang="en">Grid</em> et <em lang="en">Flexbox</em> de CSS, et quelques exemples chez
            Heydon Pickering notamment.
          </p>
        </section>

        <section class="slide">
          <h2>Factoriser votre code<span aria-hidden="true">&nbsp;&#128238;</span></h2>
          <h3><abbr lang="en" title="Don’t repeat Yourself" aria-label="Don’t repeat Yourself">DRY</abbr></h3>
          <p>
            Certaines valeurs peuvent être très, très longues&nbsp;: les <code>font-family</code>, les images (URL, dégradés, etc.),
            ou encore les tracés complexes dans <code>polygon()</code>.
          </p>
          <p>
            Si la même valeur à rallonge est utilisée plusieurs fois, simplifiez-vous la vie&nbsp;:
            <strong>utilisez des propriétés personnalisées</strong>&nbsp;!
          </p>
          <code>background: white var(--stripes);</code>
        </section>

        <section class="slide">
          <h2>Conclusion</h2>
          <h3>Les fausses bonnes idées<span aria-hidden="true">&nbsp;&#128161;</span></h3>
          <p>Ça envoie du rêve, mais ça devrait pas…</p>
          <ul>
            <li class="Cmasque">
              <a hreflang="en" href="https://adactio.com/journal/16993">Hors cascade, pas de repli possible —&nbsp;chez <cite>Jeremy Keith</cite></a>&nbsp;:
              les propriétés personnalisées sont des liens symboliques. Si la cible n’est pas là, le lien symbolique reste&nbsp;!
            </li>
            <li class="Cmasque">
              <a hreflang="en" href="https://lisilinhart.info/posts/css-variables-performance/">Le changement, c’est pas forcément maintenant —&nbsp;par <cite>Lisi Linhardt</cite></a>&nbsp;:
              changer à un seul endroit une valeur appliquée à des centaines d’endroits, super&nbsp;? <strong>Non</strong>,
              c’est extrêmement coûteux en <em lang="en">repaint</em> et <em lang="en">layout</em>.
            </li>
            <li class="Cmasque">
              <a href="https://en.wikipedia.org/wiki/KISS_principle"><abbr lang="en" title="Keep It Simple, Stupid">KISS</abbr></a>&nbsp;: pour une seule valeur, aucun intérêt.
              <code>color: var(--color);</code> avec <code>--color: #000;</code>, sérieusement&nbsp;?
            </li>
            <li class="Cmasque">
              Si vous gagnez du temps mais prenez du poids, <strong>vous faites fausse route</strong>.
              <strong>Pensez à vos utilisateurs.</strong>
            </li>
          </ul>
        </section>

        <section class="slide end noprint">
          <h2 class="end-title">Merci</h2>
          <h3>Et à bientôt<span aria-hidden="true">&nbsp;&#9786;</span></h3>
          <h4>Crédits</h4>
          <ul class="credit">
            <li>Moteur de présentation&nbsp;: <a href="https://github.com/access42/accesSlide" hreflang="en">AccesSlide</a> —&nbsp;par <a href="https://access42.net/">Access42</a>&nbsp;;</li>
            <li>Pictogrammes&nbsp;: <a href="https://thenounproject.com/marekpolakovic/collection/rounded-ui" hreflang="en">Rounded UI</a> —&nbsp;par <a href="https://www.marekpolakovic.sk/">Marek Polakovic</a>&nbsp;;</li>
            <li>Typographie de titraille&nbsp;: <a hreflang="en" href="https://typekit.com/fonts/bello-pro">Bello Pro</a> —&nbsp;créée par <a hreflang="en" href="https://www.underware.nl/">Underware</a>&nbsp;;</li>
            <li>Typographie de labeur&nbsp;: <a hreflang="en" href="https://typekit.com/fonts/museo-slab">Museo Slab</a> —&nbsp;créée par <a hreflang="en" href="https://www.exljbris.com/">Exljbris</a>.</li>
          </ul>
        </section>

      </main>

    </div>

    <div id="setting" class="tool-block tool-block-settings " role="dialog" tabindex="-1" style="display:none"></div>

  </div>

  <div id="Caudio"></div>
  <div id="Dcourante" aria-live="polite" aria-atomic="true" aria-hidden="true"></div>

  <script src="../accesslide/js/slide.min.js"></script>
  <script src="../accesslide/js/prism.min.js"></script>
</body>
</html>
